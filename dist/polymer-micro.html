<!--
@license
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><html><head><meta charset="UTF-8"><script>Polymer = {
Settings: function () {
var user = window.Polymer || {};
location.search.slice(1).split('&').forEach(function (o) {
o = o.split('=');
o[0] && (user[o[0]] = o[1] || true);
});
var wantShadow = user.dom === 'shadow';
var hasShadow = Boolean(Element.prototype.createShadowRoot);
var nativeShadow = hasShadow && !window.ShadowDOMPolyfill;
var useShadow = wantShadow && hasShadow;
var hasNativeImports = Boolean('import' in document.createElement('link'));
var useNativeImports = hasNativeImports;
var useNativeCustomElements = !window.CustomElements || window.CustomElements.useNative;
return {
wantShadow: wantShadow,
hasShadow: hasShadow,
nativeShadow: nativeShadow,
useShadow: useShadow,
useNativeShadow: useShadow && nativeShadow,
useNativeImports: useNativeImports,
useNativeCustomElements: useNativeCustomElements
};
}()
};
(function () {
var userPolymer = window.Polymer;
window.Polymer = function (prototype) {
var ctor = desugar(prototype);
var options = { prototype: ctor.prototype };
if (prototype.extends) {
options.extends = prototype.extends;
}
Polymer.telemetry._registrate(prototype);
document.registerElement(prototype.is, options);
return ctor;
};
var desugar = function (prototype) {
prototype = Polymer.Base.chainObject(prototype, Polymer.Base);
prototype.registerCallback();
return prototype.constructor;
};
window.Polymer = Polymer;
if (userPolymer) {
for (var i in userPolymer) {
Polymer[i] = userPolymer[i];
}
}
Polymer.Class = desugar;
}());
Polymer.telemetry = {
registrations: [],
_regLog: function (prototype) {
console.log('[' + prototype.is + ']: registered');
},
_registrate: function (prototype) {
this.registrations.push(prototype);
Polymer.log && this._regLog(prototype);
},
dumpRegistrations: function () {
this.registrations.forEach(this._regLog);
}
};
Object.defineProperty(window, 'currentImport', {
enumerable: true,
configurable: true,
get: function () {
return (document._currentScript || document.currentScript).ownerDocument;
}
});
Polymer.Base = {
addFeature: function (feature) {
this.extend(this, feature);
},
registerCallback: function () {
this.registerFeatures();
this.registered();
},
registered: function () {
},
createdCallback: function () {
Polymer.telemetry.instanceCount++;
this.root = this;
this.beforeCreated();
this.created();
this.afterCreated();
this.initFeatures();
},
beforeCreated: function () {
},
created: function () {
},
afterCreated: function () {
},
attachedCallback: function () {
this.isAttached = true;
this.attached();
},
attached: function () {
},
detachedCallback: function () {
this.isAttached = false;
this.detached();
},
detached: function () {
},
attributeChangedCallback: function (name) {
this.setAttributeToProperty(this, name);
this.attributeChanged.apply(this, arguments);
},
attributeChanged: function () {
},
extend: function (prototype, api) {
if (prototype && api) {
Object.getOwnPropertyNames(api).forEach(function (n) {
var pd = Object.getOwnPropertyDescriptor(api, n);
if (pd) {
Object.defineProperty(prototype, n, pd);
}
});
}
return prototype || api;
}
};
if (Object.__proto__) {
Polymer.Base.chainObject = function (object, inherited) {
if (object && inherited && object !== inherited) {
object.__proto__ = inherited;
}
return object;
};
} else {
Polymer.Base.chainObject = function (object, inherited) {
if (object && inherited && object !== inherited) {
var chained = Object.create(inherited);
object = Polymer.Base.extend(chained, object);
}
return object;
};
}
Polymer.Base = Polymer.Base.chainObject(Polymer.Base, HTMLElement.prototype);
Polymer.telemetry.instanceCount = 0;
(function () {
var modules = {};
var DomModule = function () {
return document.createElement('dom-module');
};
DomModule.prototype = Object.create(HTMLElement.prototype);
DomModule.prototype.constructor = DomModule;
DomModule.prototype.createdCallback = function () {
var id = this.id || this.getAttribute('name') || this.getAttribute('is');
if (id) {
this.id = id;
modules[id] = this;
}
};
DomModule.prototype.import = function (id, slctr) {
var m = modules[id];
if (!m) {
forceDocumentUpgrade();
m = modules[id];
}
if (m && slctr) {
m = m.querySelector(slctr);
}
return m;
};
var cePolyfill = window.CustomElements && !CustomElements.useNative;
if (cePolyfill) {
var ready = CustomElements.ready;
CustomElements.ready = true;
}
document.registerElement('dom-module', DomModule);
if (cePolyfill) {
CustomElements.ready = ready;
}
function forceDocumentUpgrade() {
if (cePolyfill) {
var script = document._currentScript || document.currentScript;
if (script) {
CustomElements.upgradeAll(script.ownerDocument);
}
}
}
}());
Polymer.Base.addFeature({
_prepIs: function () {
if (!this.is) {
var module = (document._currentScript || document.currentScript).parentNode;
if (module.localName === 'dom-module') {
var id = module.id || module.getAttribute('name') || module.getAttribute('is');
this.is = id;
}
}
}
});
Polymer.Base.addFeature({
_prepMixins: function () {
if (this.mixins) {
this.mixins.forEach(function (m) {
Polymer.Base.extend(this, m);
}, this);
}
}
});
Polymer.Base.addFeature({
_prepExtends: function () {
if (this.extends) {
this.__proto__ = this.getExtendedPrototype(this.extends);
}
},
getExtendedPrototype: function (tag) {
return this.getExtendedNativePrototype(tag);
},
nativePrototypes: {},
getExtendedNativePrototype: function (tag) {
var p = this.nativePrototypes[tag];
if (!p) {
var np = this.getNativePrototype(tag);
p = this.extend(Object.create(np), Polymer.Base);
this.nativePrototypes[tag] = p;
}
return p;
},
getNativePrototype: function (tag) {
return Object.getPrototypeOf(document.createElement(tag));
}
});
Polymer.Base.addFeature({
_prepConstructor: function () {
if (this.hasOwnProperty('constructor')) {
this._userConstructor = this.constructor;
}
this._factoryArgs = this.extends ? [
this.extends,
this.is
] : [this.is];
var ctor = function () {
return this._factory(arguments);
};
if (this.hasOwnProperty('extends')) {
ctor.extends = this.extends;
}
Object.defineProperty(this, 'constructor', {
value: ctor,
writable: true,
configurable: true
});
ctor.prototype = this;
},
_factory: function (args) {
var elt = document.createElement.apply(document, this._factoryArgs);
if (this._userConstructor) {
this._userConstructor.apply(elt, args);
}
return elt;
}
});
Polymer.nob = Object.create(null);
Polymer.Base.addFeature({
properties: {},
getPropertyInfo: function (property) {
return this._getPropertyInfo(property, this.properties);
},
_getPropertyInfo: function (property, properties) {
var p = properties[property];
if (typeof p === 'function') {
p = properties[property] = { type: p };
}
return p || Polymer.nob;
},
getPropertyType: function (property) {
return this.getPropertyInfo(property).type;
},
isReadOnlyProperty: function (property) {
return this.getPropertyInfo(property).readOnly;
},
isNotifyProperty: function (property) {
return this.getPropertyInfo(property).notify;
},
isReflectedProperty: function (property) {
return this.getPropertyInfo(property).reflectToAttribute;
}
});
Polymer.CaseMap = {
_caseMap: {},
dashToCamelCase: function (dash) {
var mapped = Polymer.CaseMap._caseMap[dash];
if (mapped) {
return mapped;
}
if (dash.indexOf('-') < 0) {
return Polymer.CaseMap._caseMap[dash] = dash;
}
return Polymer.CaseMap._caseMap[dash] = dash.replace(/-([a-z])/g, function (m) {
return m[1].toUpperCase();
});
},
camelToDashCase: function (camel) {
var mapped = Polymer.CaseMap._caseMap[camel];
if (mapped) {
return mapped;
}
return Polymer.CaseMap._caseMap[camel] = camel.replace(/([a-z][A-Z])/g, function (g) {
return g[0] + '-' + g[1].toLowerCase();
});
}
};
Polymer.Base.addFeature({
_marshalAttributes: function () {
this._takeAttributes();
this._installHostAttributes(this.hostAttributes);
},
_installHostAttributes: function (attributes) {
if (attributes) {
this.applyAttributes(this, attributes);
}
},
applyAttributes: function (node, attr$) {
for (var n in attr$) {
this.serializeValueToAttribute(attr$[n], n, this);
}
},
_takeAttributes: function () {
this._takeAttributesToModel(this);
},
_takeAttributesToModel: function (model) {
for (var propName in this.properties) {
var attrName = Polymer.CaseMap.camelToDashCase(propName);
if (this.hasAttribute(attrName)) {
var val = this.getAttribute(attrName);
var type = this.getPropertyType(propName);
model[propName] = this.deserialize(val, type);
}
}
},
setAttributeToProperty: function (model, attrName) {
if (!this._serializing) {
var propName = Polymer.CaseMap.dashToCamelCase(attrName);
if (propName in this.properties) {
var type = this.getPropertyType(propName);
var val = this.getAttribute(attrName);
model[propName] = this.deserialize(val, type);
}
}
},
_serializing: false,
reflectPropertyToAttribute: function (name) {
this._serializing = true;
this.serializeValueToAttribute(this[name], Polymer.CaseMap.camelToDashCase(name));
this._serializing = false;
},
serializeValueToAttribute: function (value, attribute, node) {
var str = this.serialize(value);
(node || this)[str === undefined ? 'removeAttribute' : 'setAttribute'](attribute, str);
},
deserialize: function (value, type) {
switch (type) {
case Number:
value = Number(value);
break;
case Boolean:
value = value !== null;
break;
case Object:
try {
value = JSON.parse(value);
} catch (x) {
}
break;
case Array:
try {
value = JSON.parse(value);
} catch (x) {
value = null;
console.warn('Polymer::Attributes: couldn`t decode Array as JSON');
}
break;
case Date:
value = new Date(value);
break;
case String:
default:
break;
}
return value;
},
serialize: function (value) {
switch (typeof value) {
case 'boolean':
return value ? '' : undefined;
case 'object':
if (value instanceof Date) {
return value;
} else if (value) {
try {
return JSON.stringify(value);
} catch (x) {
return '';
}
}
default:
return value != null ? value : undefined;
}
}
});
Polymer.Base.addFeature({
registerFeatures: function () {
this._prepIs();
this._prepMixins();
this._prepExtends();
this._prepConstructor();
},
initFeatures: function () {
this._marshalAttributes();
}
});</script>
</head><body>
</body></html>